!function(e,t,i,s){function h(i,s){l.autoresize=!1,e.extend(this,l,s),n=this,this.ele=i,this.eles=e("img"),this.elements=[],this.$win=e(t),this.ww=null,this.wh=null,this.reg=/(\S+)(\.)(jpg|png|gif|jpeg)(\S*)$/,this.curLevelName=null,this.root="undefined"==typeof exports?t:exports,this.isRetina=this.supportRetina(),this.initialise()}var a="resizeImage",n=null,l={levelName:["big","normal","small","mini"],dimensions:[[2560,1600],[1920,1080],[1440,880],[1280,720]],autoresize:!1,exclude:"nochange"};h.prototype.initialise=function(){for(var t=0,i=this.ele.length;i>t;t++)this.autoresize&&e(this.ele[t]).data({resize:!0});for(var t=0,i=this.eles.length;i>t;t++)this.elements.push(this.eles[t]);this.$win.on("resize",this.onWinResize),this.onWinResize()},h.prototype.supportRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return this.root.devicePixelRatio>1?!0:this.root.matchMedia&&this.root.matchMedia(e).matches?!0:!1},h.prototype.addmark=function(){if(this.curLevelName=this.getLevelName(),!e("html").hasClass(this.curLevelName)){for(var i=0,s=this.levelName.length;s>i;i++)e("html").hasClass(this.levelName[i])&&e("html").removeClass(this.levelName[i]);e("html").addClass(this.curLevelName),t.ResizeLevelName=this.curLevelName}this.changeImages()},h.prototype.getImageName=function(e){for(var t=!1,i=null,s=0,a=this.levelName.length;a>s;s++)if(e.indexOf(this.levelName[s])>-1){i=e.replace("normal"===this.curLevelName?"-"+this.levelName[s]:this.levelName[s],"normal"===this.curLevelName?"":this.curLevelName),t=!0;break}return t||(this.reg.test(e.replace("-x2","")),i=RegExp.$1+("normal"===this.curLevelName?"":"-"+this.curLevelName)+(this.isRetina?"-x2":"")+RegExp.$2+RegExp.$3+RegExp.$4),i},h.prototype.changeImages=function(){for(var t=0,i=this.elements.length;i>t;t++)if(!e(this.elements[t]).data("pass")||e(this.elements[t]).data("resize")){var s=null;if(!e(this.elements[t]).hasClass(this.exclude)&&e(this.elements[t]).data("resize")&&this.autoresize){var a=e(this.elements[t]).data("x2")||this.elements[t].src;s=this.getImageName(this.isRetina?a:this.elements[t].src)}else s=this.isRetina?e(this.elements[t]).data("x2")||this.elements[t].src:this.elements[t].src;e(this.elements[t]).attr("src",s).removeAttr("data-x2").data({pass:!0})}},h.prototype.getLevelName=function(){this.updateDimensions();for(var e=null,t=0,i=this.levelName.length;i>t;t++)(this.dimensions[t][0]>this.ww||this.dimensions[t][1]>this.wh)&&(e=this.levelName[t]);return e||this.levelName[0]},h.prototype.updateDimensions=function(){this.ww=this.$win.width(),this.wh=this.$win.height()},h.prototype.onWinResize=function(){n.addmark()},e.fn[a]=function(e){arguments;return plugin=new h(this,e)},e(i).ready(function(){e("img").resizeImage({autoresize:!1})})}(jQuery,window,document);